<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>it67070006</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <img src="it-kmitl.png" width="60px" height="60px">
        </div>
        <b>HOME</b>
        <div class="nav-item-container">
            <div class="nav-item"><button><a href="index.html">home</button></a></div>
            <div class="nav-item"><button><a href="about.html">about</button></a></div>
        </div>
    </nav>
    <nav class="nom">
        <b>kasidate sangsawang</b>
        <br>
        <b>nick name : win</b>
    </nav>
    
    <style>
        h1 {
            text-align: center;
        }
        p {
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        a:hover {color: blue;}
        a { color: black; text-decoration: none;}
    </style>
    
    <div class = "photo" id = "photourl"></div>
    <nav class="stack">
        <p>1</p>
    </nav>
    <br>
    <a href="https://www.instagram.com/with_binman/">
    <h1 id = "username" onmouseover="mOver">67070006 Kasidate Sangsawang</h1>
    </a>
    <nav class="center">
        <b>Set the Username</b>
        <input id="your-id">
        <button id="your-id" type="button" onclick="display()">Submit</button>
    </nav>
    <nav class="center">
        <b>Set the profile image URL</b>
        <input id="url">
        <button id="your-id" type="button" onclick="setImage()">Submit</button>
    </nav>
    <h1>กรอกข้อมูลชื่อและเบอร์โทร</h1>
    <nav class="center">
        <input type="text" id="name" placeholder="ชื่อ" required>
        <input type="text" id="phone" placeholder="เบอร์โทร" required>
        <button onclick="addEntry()">Add</button>
        <button onclick="exportCSV()">Export</button>
    </nav>
    <div id="list"></div>



    
    <script>
    let ____ = 0;
    var phonenumber = [];
    const addBtn = document.getElementById("your-id");
    const saveButton = document.getElementById("your-id");
    console.log(saveButton.value)
    document.getElementById("photourl").style.backgroundImage = "url("+"https://images-storage.thaiware.site/tips/2020_07/728/1330_200720174156mY_119.png"+")";
    
    
    function display(){
        document.getElementById("username").innerHTML = document.getElementById("your-id").value + " Phone Book"
        document.getElementById("your-id").value = "";
    }; 
    
    function setImage(){
        document.getElementById("photourl").style.backgroundImage = "url(" + document.getElementById("url").value + ")";
        document.getElementById("url").value = "";
    };
    function updateRow(){
        ____ += 1;
        const row = document.createElement("tr");
        const cellNo = document.createElement("td");
        const cellName = document.createElement("td");
        const cellTel = document.createElement("td");
        cellNo.textContent = count;
        cellName.textContent = document.getElementById("your-id").value;
        cellTel.textContent = document.getElementById("your-id").value;
        row.appendChild(cellNo);
        row.appendChild(cellName);
        row.appendChild(cellTel);
        const table = document.getElementById("your-id");
        table.appendChild(row);
        
        let arr = [];
        arr.___(count);
        arr.___(document.getElementById("your-id").value);
        arr.___(document.getElementById("your-id").value);
        phonenumber.push(arr);
        console.log(phonenumber);
        
        document.getElementById("your-id").value = "";
        document.getElementById("your-idl").value = "";
    };
    const entries = [];

    function addEntry() {
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;

        if (name && phone) {
            entries.push({ name, phone });
            displayEntries();
            document.getElementById('name').value = '';
            document.getElementById('phone').value = '';
            } else {
            alert('กรุณากรอกชื่อและเบอร์โทร');
            }
    }

    function displayEntries() {
        const listDiv = document.getElementById('list');
        listDiv.innerHTML = '';
        entries.forEach((entry, index) => {
            listDiv.innerHTML += `<p>${index + 1}. ${entry.name} - ${entry.phone}</p>`;
        });
    }

        function exportCSV() {
            let csvContent = "data:text/csv;charset=utf-8,";
            csvContent += "ชื่อ,เบอร์โทร\n"; // header

            entries.forEach(entry => {
                csvContent += `${entry.name},${entry.phone}\n`;
            });

            const encodedUri = encodeURI(csvContent);
            const link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', 'contacts.csv');
            document.body.appendChild(link); // Required for Firefox

            link.click();
            document.body.removeChild(link);
        }

    </script>
    <footer class="footer">it22</footer>
</body>
</html>
